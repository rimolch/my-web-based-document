import{Q as p,o as c,f as h,d as u,b as r}from"./app-0jD_U881.js";import{h as m}from"./http-helper-7HKkKYeF.js";import{s as w}from"./AuthenticatedLayout-_E8msa5o.js";const _=r("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"w-4 h-4 mr-2"},[r("path",{d:"M10.75 2.75a.75.75 0 0 0-1.5 0v8.614L6.295 8.235a.75.75 0 1 0-1.09 1.03l4.25 4.5a.75.75 0 0 0 1.09 0l4.25-4.5a.75.75 0 0 0-1.09-1.03l-2.955 3.129V2.75Z"}),r("path",{d:"M3.5 12.75a.75.75 0 0 0-1.5 0v2.5A2.75 2.75 0 0 0 4.75 18h10.5A2.75 2.75 0 0 0 18 15.25v-2.5a.75.75 0 0 0-1.5 0v2.5c0 .69-.56 1.25-1.25 1.25H4.75c-.69 0-1.25-.56-1.25-1.25v-2.5Z"})],-1),v={__name:"DownloadFilesButton",props:{all:{type:Boolean,required:!1,default:!1},ids:{type:Array,required:!1},sharedWithMe:!1,sharedByMe:!1},setup(i){const s=p(),e=i;function f(){var n,d;if(!e.all&&e.ids.length===0){w("Please select at least one file to download");return}const o=new URLSearchParams;if((n=s.props.folder)!=null&&n.id&&o.append("parent_id",(d=s.props.folder)==null?void 0:d.id),e.all)o.append("all",e.all?1:0);else for(let a of e.ids)o.append("ids[]",a);let t=route("file.download");e.sharedWithMe?t=route("file.downloadSharedWithMe"):e.sharedByMe&&(t=route("file.downloadSharedByMe")),m(t+"?"+o.toString()).then(a=>{if(console.log(a),!a.url)return;const l=document.createElement("a");l.download=a.filename,l.href=a.url,l.click()})}return(o,t)=>(c(),h("button",{onClick:f,class:"inline-flex items-center px-2 py-2 text-sm font-medium text-gray-900"},[_,u(" Â  Download ")]))}};export{v as _};
